<!DOCTYPE html>
<html lang="en">
    <script type=text/javascript
          src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
        <script type=text/javascript>
          var $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
        </script>
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
 
 
<head>
</head>
<body style="background: rgb(16,16,16);">
    <div class="container" style="height: 100%; width: 100%; align-items: start; top: 150px; justify-content: center; display: flex;">
        <canvas id="can" style="top: 100px; left: 170px; position: relative;"></canvas> <!-- {{ file }}-->
        <img id="pic" src=' {{ file }}' style="display: none;"></img>
        <form action = "{{ url_for('model_predict') }}" enctype="multipart/form-data" method = "POST">
            <input type="hidden" name="pixels" id="pixel_data" value='' />
            <input type="hidden" name="case" id="case" value='{{ file }}' />
            <input type="hidden" name="age" id="case" value='{{ age }}' />
            <input type="hidden" name="shape" id="case" value='{{ shape }}' />
            <input type="hidden" name="density" id="case" value='{{ density }}' />
            <input type="hidden" name="margin" id="case" value='{{ margin }}' />
            <input type="submit" class= "btn btn-primary"value="Get Model Prediction" style="top: 500px; left: -200px; height: 50px; width: 450px;position: relative;" />
        </form>
    </div>
    
        
</body>
<script type=text/javascript>
    var canvas = document.getElementById("can");
    var ctx = canvas.getContext("2d");
    var x1 = null;
    var x2 = null;
    var y1 = null;
    var y2 = null;
    var img = document.getElementById("pic");
    var height = img.height; 
	var width = img.width;
    var ratio = height / width;
    var can_height = 300;
    canvas.style.height = can_height.toString() + "px";//(img.height).toString() + "px";
    canvas.style.width = "300px";//(img.width).toString() + "px";
    img.onload = function() {
        ctx.drawImage(img, 0, 0, img.width, img.height, 0,0,canvas.width, canvas.height);
        document.getElementById('pixel_data').value = canvas.toDataURL("img/png");
    }

    
    
</script>